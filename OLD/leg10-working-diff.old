Only in working/include: utils.h-NEW
Only in working/lib: tinyworld.mob-NEW
Only in working/lib: tinyworld.obj-NEW
Only in working: makefile
Only in narai-utf8/: Makefile
Only in working: Makefile.ORIG
Only in working/obj: .depend
diff -r narai-utf8/src/act.wizard.c working/src/act.wizard.c
11a12
> #include <time.h>
1336c1337,1343
<   	sprintf(buf,"%s> %s\n\r",ch->player.name,argument);
---
> 	time_t tt;
> 	time(&tt);
> 	struct tm* stt;
>   	char buf2[MAX_STRING_LENGTH];
> 	stt = localtime(&tt);
> 	strftime(buf2, 127, "%H:%M", stt));
>         sprintf(buf,"[%s]%s> %s\n\r", buf2, ch->player.name, argument);
1342,1345d1348
< 	struct tm* stt;
< 	time_t tt;
< 	time(&tt);
< 	stt = localtime(&tt);
diff -r narai-utf8/src/db.c working/src/db.c
459a460,461
>             fprintf(stderr, "DEBUG: %ld, %s\n",
>                    world[room_nr].number, world[room_nr].name);
840c842
< 		CREATE(zone_table[zon].filename,char, strlen(file_name)); /* + 1 for Linux and no +1 for BSD? */
---
> 		CREATE(zone_table[zon].filename,char, strlen(file_name)+1); /* + 1 for Linux and no +1 for BSD? */
diff -r narai-utf8/src/fight.c working/src/fight.c
1684a1685
>       log("backstab+hide");
1685a1687
>     }
diff -r narai-utf8/src/magic.c working/src/magic.c
320a321,322
> 	char buf[MAX_STRING_LENGTH];
> 
335a338,340
>         sprintf(buf, "DEBUG: sunburst: %d\n", dam);
>         log(buf);
> 
diff -r narai-utf8/src/magic2.c working/src/magic2.c
1951c1951,1952
< }
\ No newline at end of file
---
> }
> 
diff -r narai-utf8/src/mob_bal.c working/src/mob_bal.c
356a357,363
> /*
>  OLD VALUE
>         { -149, -161, -172, -184, -197,
>           -209, -222, -235, -248, -262,
>           -276, -290, -304, -319, -333,
>           -349, -364, -380, -395, -412}
> */
diff -r narai-utf8/src/mobact.c working/src/mobact.c
52c52
< 	  ratio = (GET_HIT(ch) / hit_limit(ch)) * 6;
---
> 	  ratio = 6 * GET_HIT(ch) / hit_limit(ch) ;
diff -r narai-utf8/src/spec_procs3.c working/src/spec_procs3.c
127c127
<       if (((float) GET_HIT(vict)/GET_PLAYER_MAX_HIT(vict) * 100) > 85)
---
>       if ((100 * GET_HIT(vict)/GET_PLAYER_MAX_HIT(vict)) > 85)
diff -r narai-utf8/src/spells2.c working/src/spells2.c
1481,1482c1481,1482
<     case 0x00: send_to_char("Phase to where?\n\r",ch); return;
<     case 0x20: send_to_char("Phase to where?\n\r",ch); return;
---
>     case '\0':
>     case ' ': send_to_char("Phase to where?\n\r",ch); return;
